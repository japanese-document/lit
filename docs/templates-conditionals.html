<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="twitter:card" content="summary" />
    <meta property="og:url" content="https://japanese-document.github.io/lit/templates-conditionals.html" />
    <meta property="og:title" content="条件" />
    <meta property="og:description" content="Litは通常のJavaScriptの表現を使うことができるので、conditional operators、関数の実行、if文やswitch文のような標準のJavaScriptの制御機能を使って条件に応じてコンテンツをレンダリングすることができます。JavaScriptの条件文を使ってネストしたテンプレートエクスプレッションを組み合わせることができます。テンプレートに変換した結果を変数に保存してそれを別の場所で使うことができます。#三項演算子を使う下記のように三項演算子を使って条件に応じてテンプレートを構築することができます。render() {  return this.userName  " />
    <meta property="og:image" content="https://avatars2.githubusercontent.com/u/42838312?s=400" />
    <meta name="theme-color" content="#f1f7fe" />
    <meta name="description" content="Litは通常のJavaScriptの表現を使うことができるので、conditional operators、関数の実行、if文やswitch文のような標準のJavaScriptの制御機能を使って条件に応じてコンテンツをレンダリングすることができます。JavaScriptの条件文を使ってネストしたテンプレートエクスプレッションを組み合わせることができます。テンプレートに変換した結果を変数に保存してそれを別の場所で使うことができます。#三項演算子を使う下記のように三項演算子を使って条件に応じてテンプレートを構築することができます。render() {  return this.userName  " />
    <meta name="Hatena::Bookmark" content="nocomment" />
    <title>条件</title>
    <link rel="icon" type="image/png" href="/lit/images/favicon.png" />
    <link rel="stylesheet" href="/lit/app.css?v=001" type="text/css"  media="all" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L9VVC74WWF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-L9VVC74WWF');
    </script>
  </head>
  <body class="container">
    <div class="left-side">
    <nav class="index-menu">
      <details open="">
        <summary>コンポーネント</summary>
        <p><a href="https://japanese-document.github.io/lit/components-defining.html">定義</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-rendering.html">レンダリング</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-properties.html">リアクティブプロパティ</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-styles.html">スタイル</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-lifecycle.html">ライフサイクル</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-shadow-dom.html">Shadow DOM</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-events.html">イベント</a></p>
        <p><a href="https://japanese-document.github.io/lit/components-decorators.html">デコレータ</a></p>
      </details>
      <details open="">
        <summary>テンプレート</summary>
        <p><a href="https://japanese-document.github.io/lit/templates-expressions.html">エクスプレッション</a></p>
        <p><a href="https://japanese-document.github.io/lit/templates-conditionals.html">条件</a></p>
        <p><a href="https://japanese-document.github.io/lit/templates-lists.html">リスト</a></p>
        <p><a href="https://japanese-document.github.io/lit/templates-directives.html">ビルトインディレクティブ</a></p>
        <p><a href="https://japanese-document.github.io/lit/templates-custom-directives.html">カスタムディレクティブ</a></p>
      </details>
      <details open="">
        <summary>組み合わせ</summary>
        <p><a href="https://japanese-document.github.io/lit/composition-component.html">コンポーネントを組み合わせる</a></p>
        <p><a href="https://japanese-document.github.io/lit/composition-controllers.html">リアクティブコントローラ</a></p>
      </details>
      <details open="">
        <summary>データ管理</summary>
        <p><a href="https://japanese-document.github.io/lit/data-context.html">コンテキスト</a></p>
      </details>
      <details open="">
        <summary>API</summary>
        <p><a href="https://japanese-document.github.io/lit/api-LitElement.html">LitElement</a></p>
        <p><a href="https://japanese-document.github.io/lit/api-templates.html">テンプレート</a></p>
      </details>
    </nav></div>
    <main class="main markdown-body">
      <h1 id="条件"><a class="anchor" href="#条件">#</a>条件</h1>
<p>Litは通常のJavaScriptの表現を使うことができるので、
<a class="Link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">conditional operators</a>、関数の実行、<code>if</code>文や<code>switch</code>文のような標準のJavaScriptの制御機能を使って条件に応じてコンテンツをレンダリングすることができます。</p>
<p>JavaScriptの条件文を使ってネストしたテンプレートエクスプレッションを組み合わせることができます。
<a class="Link" href="https://lit.dev/docs/api/templates/#TemplateResult">テンプレートに変換した結果</a>を変数に保存してそれを別の場所で使うことができます。</p>
<h2 id="三項演算子を使う"><a class="anchor" href="#三項演算子を使う">#</a>三項演算子を使う</h2>
<p>下記のように三項演算子を使って条件に応じてテンプレートを構築することができます。</p>
<pre><code class="language-ts">render() {
  return this.userName
    ? html`Welcome ${this.userName}`
    : html`Please log in &lt;button&gt;Login&lt;/button&gt;`;
}
</code></pre>
<h2 id="if文を使う"><a class="anchor" href="#if文を使う">#</a>if文を使う</h2>
<p>下記のようにif文を使って条件に応じてテンプレートを構築することができます。</p>
<pre><code class="language-ts">render() {
  let message;
  if (this.userName) {
    message = html`Welcome ${this.userName}`;
  } else {
    message = html`Please log in &lt;button&gt;Login&lt;/button&gt;`;
  }
  return html`&lt;p class="message"&gt;${message}&lt;/p&gt;`;
}
</code></pre>
<p>上記は下記のようにロジック部分を関数に分離することができます。</p>
<pre><code class="language-ts">getUserMessage() {
  if (this.userName) {
    return html`Welcome ${this.userName}`;
  } else {
    return html`Please log in &lt;button&gt;Login&lt;/button&gt;`;
  }
}
render() {
  return html`&lt;p&gt;${this.getUserMessage()}&lt;/p&gt;`;
}
</code></pre>
<h2 id="cacheディレクティブを使ってDOMをキャッシュする"><a class="anchor" href="#cacheディレクティブを使ってDOMをキャッシュする">#</a>cacheディレクティブを使ってDOMをキャッシュする</h2>
<p>ほとんどの場合、JavaScriptの条件文で充分ですが、
複雑で大規模なテンプレートを切り替える場合、各テンプレートからDOMを再生成するコストを節約したいと思うでしょう。</p>
<p>そんな時は<code>cache</code>ディレクティブの出番です。
<code>cache</code>ディテクティブは切り替えられたレンダリングされていないテンプレートのDOMをキャッシュします。</p>
<pre><code class="language-ts">render() {
  return html`${cache(this.userName ?
    html`Welcome ${this.userName}`:
    html`Please log in &lt;button&gt;Login&lt;/button&gt;`)
  }`;
}
</code></pre>
<p>詳しくは<a class="Link" href="https://japanese-document.github.io/lit/templates-directives.html#cache">cacheディレクティブ</a>を見てください。</p>
<h2 id="条件に応じて何もレンダリングしない"><a class="anchor" href="#条件に応じて何もレンダリングしない">#</a>条件に応じて何もレンダリングしない</h2>
<p>条件に応じて何もレンダリングしないことがあるでしょう。
何もレンダリングしないことはchild expressionsでよくあります。
たまにattribute expressionsでもあります。</p>
<p>child expressionsで<code>undefined</code>、<code>null</code>、空文字(<code>''</code>)、そしてLitの<a class="Link" href="https://japanese-document.github.io/lit/api-templates.html#nothing__symbol">nothing</a>を値にすると何もレンダリングしません。
詳しくは<a class="Link" href="https://japanese-document.github.io/lit/templates-expressions.html#子コンテンツの削除">子コンテンツの削除</a>を見てください。</p>
<p>下記の例では値が存在している場合はそれをレンダリングします。そうじゃない場合は何もレンダリングしません。</p>
<pre><code class="language-ts">render() {
  return html`&lt;user-name&gt;${this.userName ?? nothing}&lt;/user-name&gt;`;
}
</code></pre>
<p>attribute expressionsにLitの<a class="Link" href="https://japanese-document.github.io/lit/api-templates.html#nothing__symbol">nothing</a>センチネル値をセットすると属性が削除されます。
詳しくは<a class="Link" href="https://japanese-document.github.io/lit/templates-expressions.html#属性の削除">属性の削除</a>を見てください。</p>
<p>下記の例では条件に応じて<code>aria-label</code>属性をレンダリングします。</p>
<pre><code class="language-ts">html`&lt;button aria-label="${this.ariaLabel || nothing}"&gt;&lt;/button&gt;`
</code></pre>
<hr>
<h2 id="License"><a class="anchor" href="#License">#</a>License</h2>
<h3 id="Japanese_part"><a class="anchor" href="#Japanese_part">#</a>Japanese part</h3>
<p><a class="Link" href="https://creativecommons.org/licenses/by-nc/4.0/legalcode">Creative Commons Attribution-NonCommercial 4.0 International Public License</a></p>
<p>Copyright (c) 2022 38elements</p>
<h3 id="Other"><a class="anchor" href="#Other">#</a>Other</h3>
<p><a class="Link" href="https://creativecommons.org/licenses/by/3.0/deed.en">Creative Commons Attribution 3.0 Unported</a></p>
<p>Copyright (c) 2020 Google LLC. All rights reserved.</p>
<p>BSD 3-Clause License</p>
<p>Copyright (c) 2020 Google LLC. All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<ol>
<li><p>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</p>
</li>
<li><p>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</p>
</li>
<li><p>Neither the name of the copyright holder nor the names of its
contributors may be used to endorse or promote products derived from
this software without specific prior written permission.</p>
</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

    </main>
    <div class="right-side"><nav class="header-list"><p class="h1"><a href="#条件">条件</a></p>
<p class="h2"><a href="#三項演算子を使う">三項演算子を使う</a></p>
<p class="h2"><a href="#if文を使う">if文を使う</a></p>
<p class="h2"><a href="#cacheディレクティブを使ってDOMをキャッシュする">cacheディレクティブを使ってDOMをキャッシュする</a></p>
<p class="h2"><a href="#条件に応じて何もレンダリングしない">条件に応じて何もレンダリングしない</a></p>
<p class="h2"><a href="#License">License</a></p>
<p class="h3"><a href="#Japanese_part">Japanese part</a></p>
<p class="h3"><a href="#Other">Other</a></p></nav></div>
    <footer class="footer markdown-body">
      <a href="/lit">Top</a>
    </footer>
  </body>
</html>